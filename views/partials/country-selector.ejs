<!-- views/partials/country-selector.ejs -->
<div x-data="{ 
        search: '', 
        countries: window.countriesData,
        get filteredCountries() {
            return this.countries.filter(
                c => c.name.toLowerCase().includes(this.search.toLowerCase())
            )
        }
     }">
    <h3 class="text-xl font-semibold">All Countries</h3>
    <input type="text" x-model="search" placeholder="Search for a country..." class="p-3 border border-gray-300 rounded-md w-full mb-2">
    <div class="h-60 overflow-y-auto border border-gray-300 rounded-md p-2">
        <ul>
            <template x-for="country in filteredCountries" :key="country.code">
                <li @click="console.log(country.code)" class="p-1 hover:bg-blue-100 cursor-pointer rounded" x-text="country.name + ' (' + country.code + ')'"></li>
            </template>
        </ul>
    </div>
</div>
